# Put your release notes or change log information
# in here.

BLD-R2-5-1: Shantha Condamoor: 27-May-2014
	Added more diagnostics records
	Set the BLD header timestamp to when the BLD packet was received
	Reset the TSE fields to -1 for BSA.
	Priority of Imb and PhaseCavity Receiver threads set to epicsThreadPriorityHigh-1
	
BLD-R2-5-0: Shantha Condamoor: 28-Apr-2014
	Added IMB BLD Packet receiver support

BLD-R2-4-6:
  o Addition of code that prevents BLDCast task from being spawned
    if the code is not running on ioc-sys0-bd01

BLD-R2-4-5:
  o Found bug created by adding more FCOM PVs/Blobs. Code is missing
    checks to make sure arrays are not overrun -> Must review/refactor the
    BLDMCast code.

BLD-R2-4-4:
  o Fix for XTCAV Phase/Ampl - previous code requested one blob for
    each, but both properties arrive in the same blob	

BLD-R2-4-3:
  o Added check that enables BLD broadcast only if the hostname is
    ioc-sys0-bd01 in production

BLD-R2-4-2:
  o Fixed wrong BLD IP address in multicast BLD receiver - dbior bug fix

BLD-R2-4-1:
  o Minor diagnostics change

BLD-R2-4-0: (Started at the BLD-R2-0-0-BR branch -> got merged back to MAIN_TRUNK)
  o Addition of these PVs to eBeam BLD:

	TCAV:DMP1:360:AV
	TCAV:DMP1:360:PV
	BPMS:DMP1:502:TMIT

  o Change in outgoing data packet
    Version from 0x4000f to 0x5000f
    Addition of 3 extra words (for the above information)

BLD-R2-3-0: (BLD-R2-0-0-BR branch)
  o Addition of Fast Undulator Launch feedback states

  o Change in outgoing data packet
    Version from 0x3000f to 0x4000f
    Addition of 4 extra words (for the Fast Und. Launch feedback)


BLD-R2-2-0: (BLD-R2-0-0-BR branch)
  o Addition of BLD receiver - phase cavity

  o Phase cavity data are available via BSA:

	BLD:SYS0:500:CHARGE1
	BLD:SYS0:500:CHARGE2
	BLD:SYS0:500:FITTIME1
	BLD:SYS0:500:FITTIME2

    There are also a couple of BSA PVs to provide
    PULSEID and STATUS information:

	BLD:SYS0:500:PULSEID
	BLD:SYS0:500:STATUS

    The Phase Cavity BLD is always *at least* one
    PULSEID behind. The PULSEID BSA PV must be
    checked to make sure data from other devices line
    up correctly.

BLD-R2-1-1: (BLD-R2-0-0-BR branch)
  o Addition of Db file with BSA records 

  o Change in startup script to allow individual PVs
    (e.g. BLD:SYS0:500:CHARGE) to be updated on
    "I/O Intr". This is required in order to have
    BSA records working.

  o FLNK fields were added to individual PVs, pointing
    to the BSA records.

BLD-R2-1-0: (BLD-R2-0-0-BR branch)
  o Addition of extra fields:
    BC2Energy - BPMS:LI24:801:X (in mm)
    BC1Charge - BLEN:LI21:265:AIMAX (in amps)
    BC1Energy - BPMS:LI21:233:X (in mm)

  o Change EBEAMINFO.ebeamBunchLen to EBEAMINFO.ebeamBC2Current

  o Change in outgoing data packet
    Version from 0x1000f to 0x2000f
    Addition of 3 extra words (for the energy/charge above)

  o Modification of bldgen helper code (not tested)

  o Addition of PVs (used only if code runs with CA only):
    BLD:SYS0:500:BC1CHARGE
    BLD:SYS0:500:BC1ENERGY
    BLD:SYS0:500:BC2CHARGE
    BLD:SYS0:500:BC2ENERGY

  o Extension of waveform containing new values

  o Updated BLD Diagnostics panel

  o Addition os PVs to count errors for the new values

BLD-R2-0-0:
  o Read fast data from FCOM.
  o Send BLD multicast data using udpComm/lanIpBasic.
  o Many internal changes (consult 'ChangeLog' for details).
  o Diagnostic waveform devsup reading BLD data from
    multicast network into wf record.
  o Statistics
  o EDM display

BLD-R1-5:
Add bunch length

TODO: Somehow ca_context_destroy causes problem
      Takes long time to connect to a external PV
      Local PV callback has wrong number of elements and wrong value
      Some CA env does not work
      Multicast on RTEMS

BLD-R1-4:
Add drive device support
Add records to read calc result
Move start into drvSup
More beam code for rate less than 30Hz

R1-3:
Clean up, print full array with printf in camon.c
Add more comments, add diagnostics info, add ca_clear_channel for epicsExit and fix bug by init dataAvailable = TRUE
Copy ebeamInfoPreFill into ebeamInfo everytime to correct binvert behaviour
The first version in production.

R1-2:
Enable the second Ethernet port with BSD stack
Clean up camon.c
Fix typo of error message. Add ca_flush_io just in case. Add option for monitoring pulsePVs
Add byte-order swap
Add option to use ca_add_event
Use original PVs rather than BSA PVs

R1-1:
Add PINI YES to local PVs
Add iocAdmin and EVR db
Add delay for CA
Make timer delay longer and changable on console
Add more debug info and organize level 4 for 120Hz, level 3 for 30Hz
Remove connection callback and access right callback
Compile against RTEMS 4.9.1

R1-0:
The first release.

R0-9:
Release candidate.
TODO: Add autoSaveRestore.
